import Link from "next/link";
import Image from "next/image";
import { useSearchParams } from "next/navigation";
import classnames from "classnames";
import AlgoliaSearch from "./algolia-search";

import style from "./header.module.scss";

import headerImg from "./images/header.jpg";

const list = [
  {
    title: "前端",
    tag: "前端",
  },
  // TODO
  // {
  //   title: "ACG",
  //   tag: "ACG",
  // },
];

const Header = () => {
  const searchParams = useSearchParams();

  const tag = searchParams.get("tag");

  return (
    <header className={style.header}>
      <nav className={style.nav}>
        <ul className={style.list}>
          <li className={style.docSearch}>
            <div className="flex-1"></div>
            <AlgoliaSearch></AlgoliaSearch>
          </li>
          <li>
            <Link
              className={classnames({
                [style.active]: !tag,
              })}
              href="/"
              title="全部"
            >
              全部
            </Link>
          </li>
          {list.map((item) => {
            return (
              <li key={item.tag}>
                <Link
                  className={classnames({
                    [style.active]: tag === item.tag,
                  })}
                  href={`/?tag=${item.tag}`}
                  title={item.title}
                >
                  {item.title}
                </Link>
              </li>
            );
          })}
        </ul>
        <div className={style.icons}>
          {/* TODO */}
          {/* <Link className={style.icon} target="_blank" href="/feed.xml">
            <svg
              fill="#000000"
              height="24"
              width="24"
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="-143 145 512 512"
            >
              <path
                d="M113,145c-141.4,0-256,114.6-256,256s114.6,256,256,256s256-114.6,256-256S254.4,145,113,145z M43.1,518.7
	c-6.2,6.2-14.7,9.9-24.1,9.9c-9.4,0-17.8-3.8-24-9.9c-6.2-6.2-10-14.6-10-23.9c0-9.4,3.8-17.8,10-24s14.6-10,24-10
	c9.4,0,17.9,3.8,24,10c6.2,6.2,10,14.6,10,24C53,504.2,49.2,512.6,43.1,518.7z M104.8,529c-0.1-32.1-12.5-62.3-35.1-84.9
	c-22.6-22.6-52.8-35.2-84.7-35.2V360c46.6,0,88.7,19,119.3,49.6c30.6,30.6,49.5,72.8,49.6,119.4H104.8z M192,529
	c-0.1-114.2-92.8-207.1-206.9-207.1V273c70.6,0,134.5,28.7,180.8,75.1c46.3,46.4,75,110.3,75.1,180.9H192z"
              />
            </svg>
          </Link> */}
          <Link
            className={style.icon}
            target="_blank"
            href="https://zjffun.com"
          >
            <svg
              fill="#000000"
              width="24"
              height="24"
              viewBox="0 0 512 512"
              id="_x30_1"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g>
                <path d="M157.114,188.969h28.438c3.269-13.719,7.51-26.333,12.545-37.485c-9.62,5.348-18.555,12.064-26.552,20.061   C166.14,176.95,161.323,182.786,157.114,188.969z" />

                <path d="M157.114,323.031c4.21,6.183,9.026,12.019,14.431,17.424c7.997,7.997,16.932,14.713,26.552,20.061   c-5.036-11.152-9.276-23.766-12.545-37.485H157.114z" />

                <path d="M354.886,188.969c-4.21-6.183-9.026-12.019-14.431-17.424c-7.997-7.997-16.932-14.713-26.552-20.061   c5.036,11.152,9.276,23.766,12.545,37.485H354.886z" />

                <path d="M278.452,162.043c-9.626-19.252-19.283-25.48-22.452-25.48s-12.826,6.228-22.452,25.48   c-3.987,7.975-7.409,17.059-10.208,26.926h65.32C285.86,179.102,282.439,170.017,278.452,162.043z" />

                <path d="M233.548,349.957c9.626,19.252,19.283,25.48,22.452,25.48s12.826-6.228,22.452-25.48   c3.987-7.975,7.409-17.059,10.208-26.926h-65.32C226.14,332.898,229.561,341.983,233.548,349.957z" />

                <path d="M178,256c0-10.428,0.516-20.614,1.492-30.469h-39.021c-2.573,9.825-3.909,20.043-3.909,30.469s1.335,20.644,3.909,30.469   h39.021C178.516,276.614,178,266.428,178,256z" />

                <path d="M334,256c0,10.428-0.516,20.614-1.492,30.469h39.021c2.573-9.825,3.909-20.043,3.909-30.469s-1.335-20.644-3.909-30.469   h-39.021C333.484,235.386,334,245.572,334,256z" />

                <path d="M256,0C114.615,0,0,114.615,0,256s114.615,256,256,256s256-114.615,256-256S397.385,0,256,0z M256,412   c-86.156,0-156-69.844-156-156s69.844-156,156-156c86.156,0,156,69.844,156,156S342.156,412,256,412z" />

                <path d="M216.277,225.531c-1.125,9.901-1.714,20.127-1.714,30.469s0.589,20.568,1.714,30.469h79.447   c1.125-9.901,1.714-20.127,1.714-30.469s-0.589-20.568-1.714-30.469H216.277z" />

                <path d="M313.903,360.516c9.62-5.348,18.555-12.064,26.552-20.061c5.405-5.405,10.221-11.241,14.431-17.424h-28.438   C323.179,336.75,318.939,349.364,313.903,360.516z" />
              </g>
            </svg>
          </Link>
          <Link
            className={style.icon}
            target="_blank"
            href="https://github.com/zjffun"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
            >
              <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
            </svg>
          </Link>
        </div>
      </nav>
      <div className={style.space}></div>
      <div
        className={style.backstretch}
        style={{
          backgroundImage: `url(${headerImg.src})`,
        }}
      ></div>
    </header>
  );
};

export default Header;
